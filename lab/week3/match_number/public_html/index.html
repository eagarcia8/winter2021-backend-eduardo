<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match Game</title>

    <!-- jQuery CDN code, allows us to "hotlink" the jQuery file. Hotlinking is usually "bad" but by nature CDNs allow hotlinking. -->
    <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>

</head>
<body>

    <h1>Match Game vs. Web Server</h1>

    <form>
        <label>First Name</label>
        <br />
        <input id="fname" type="text" />
        <br />
        <label>Type a number between 1 and 10</label>
        <br />
        <input id="number" type="number" />
        <br />
    </form>

    <button id="submit">Submit Choice</button>

    <p id="message"></p>

    <script>

        $(document).ready(function () {

            $("#submit").click(function () {

                let fnameValue = $("#fname").val();
                let numberValue = $("#number").val();

                let data = {
                    fname: fnameValue,
                    number: numberValue
                };

                //data = JSON.stringify(data);


                // jQuery POST Request, needs 3 arguments: addres, data to send, and callback function that runs when a response is recieved.
                $.post("http://localhost:3000/entry", data, function (responseData) {
                    // The data that we get from the server will be in this function's parameter, which we called responseData.
                    $("#message").html(responseData.message);
                });

            });

        });

    </script>
</body>
</html>